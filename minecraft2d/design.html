<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>Minecraft 2D 内部设计</title>
    <link rel="stylesheet" type="text/css" href="../css/common.css">
</head>
<body>
<h1>Minecraft 2D 内部设计</h1>
<p>我们先从<b>Main</b>讲起. </p>
<p>程序从<b>Main</b>这个类开始启动, 并获取<b>Mc2dClient</b>的实例. 这个过程是通过<b>Mc2dClient.getInstance()</b>来实现的(这个方法是synchronize的).</p>
<p><b>Mc2dClient</b>本身继承了JFrame用于显示窗口, 实现了<b>Screen</b>这个接口用于一系列与绘画有关的操作.</p>
<p>......</p>
<hr>
<h2>注册系统</h2>
<p>这个游戏使用了Hashtable来储存已经注册过的对象. 其中Hashtable的Key为一个String, Value则是一个继承了IRegistrable的对象.</p>
<p>你可以创建一个DeferredRegistry的实例进行注册, 传入的参数为Mc2dRegistries里的Hashtable.</p>
<p>之后调用DeferredRegistry#register(Identifier, Supplier)进行注册, 游戏会在注册时自动设置registry name为第一个参数, 所以你无需手动设置.</p>
<p>至于第二个参数, 你可以在注册时做别的事情, 例如输出方块注册成功的信息.</p>
<p>原版也自带了一个Registry类, 可以快速注册一个IRegistrable.</p>
</body>
</html>